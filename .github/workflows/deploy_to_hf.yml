name: ðŸš€ Deploy Hugging Face App

on:
  push:
    paths:
      - "hf_app/**"
      - ".github/workflows/deploy_to_hf.yml"

jobs:
  deploy:
    name: Deploy to Hugging Face
    runs-on: ubuntu-latest

    steps:
      - name: âœ… Checkout Repo (with LFS support)
        uses: actions/checkout@v3
        with:
          lfs: true

      - name: ðŸ§  Set up Git identity
        run: |
          git config --global user.email "hussnainkhalil2001@gmail.com"
          git config --global user.name "rhkraptor"

      - name: ðŸ¤– Push to Hugging Face
        run: |
          cd hf_app
          git init
          git lfs install
          git remote add origin https://${{ secrets.HF_TOKEN }}@huggingface.co/spaces/rhkraptor/BananaOrApple
          git checkout -b main
          git add .
          git commit -m "ðŸš€ Auto deploy update from GitHub Actions"
          git push origin main --force